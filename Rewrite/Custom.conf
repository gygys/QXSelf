# QuantumultX Custom Rewrite Rules (自定义重写规则)
# 使用说明：将此文件添加到 QuantumultX 的 [rewrite_remote] 部分
# Usage: Add this file to [rewrite_remote] section in QuantumultX

[rewrite_local]

# 重定向规则 (Redirect Rules)
# 将HTTP重定向到HTTPS
^http://(www.)?google\.com https://www.google.com 302

# URL重写规则 (URL Rewrite Rules)
# 重写特定URL
^https?://api\.example\.com/v1/ https://api.example.com/v2/ 302

# Header修改规则 (Header Modification Rules)
# 修改User-Agent
^https?://.*\.example\.com header-replace User-Agent "Mozilla/5.0 (iPhone; CPU iPhone OS 14_0 like Mac OS X)"

# 响应体修改规则 (Response Body Modification Rules)
# 去除广告内容（需要对应的JavaScript脚本）
^https?://.*\.example\.com/ad url script-response-body https://raw.githubusercontent.com/example/ad-remove.js

# Cookie管理规则 (Cookie Management Rules)
# 获取Cookie
^https?://.*\.example\.com/login url script-request-header https://raw.githubusercontent.com/example/get-cookie.js

# MITM主机名 (MITM Hostnames)
# 需要MITM解密的域名
hostname = *.google.com, *.example.com, api.example.com

[mitm]
# MITM配置
# 在QuantumultX主配置中启用MITM
# passphrase = 
# p12 = 
